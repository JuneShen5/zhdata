<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.govmade.zhdata.module.drs.dao.ZjSystemDao">

      <sql id="ZjSystemColumns">
      a.id,
      a.dwmc,
      a.xtmc,
      a.spbm,
      a.spsj,
      a.ywgn,
      a.jsdwmc,
      a.jsdwlxr,
      a.jsdwlxdh,
      a.xtjsys,
      a.zjly,
      a.xtlb,
      a.dqjsjd,
      a.jsfs,
      a.cjdwmc,
      a.cjdwlxr,
      a.cjdwlxdh,
      a.htqssj,
      a.htydwcsj,
      a.htqsdwbdqsj,
      a.yfhtje,
      a.xtjsyj,
      a.jsyqmb,
      a.jsxmjpcd,
      a.jpcdsm,
      a.ygsydx,
      a.ygsygm,
      a.yjhtrsysj,
      a.bswz,
      a.smfl,
      a.aqjb,
      a.jhjrwllx,
      a.syfw,
      a.sfyqtxtdj,
      a.djqtxtmc,
      a.sfxnhbs,
      a.xnhrjmc,
      a.sfybf,
      a.bffs,
      a.bfdwz,
      a.sjbfl,
      a.yyrz,
      a.xthxjh,
      a.xtjxjsyy,
      a.create_by AS "createBy",
	  a.create_date AS "createDate",
      a.update_by AS "updateBy",
	  a.update_date AS "updateDate",
	  a.remarks,
	  a.del_flag AS "delFlag"
            
      </sql>
      
      <select id="queryAllList" resultType="ZjSystems">
      SELECT
      <include refid="ZjSystemColumns" />
      FROM drs_system_zaijian a
      <where>
      a.del_flag = #{zjSystems.delFlag}
      <if test="zjSystems.xtmc != null and zjSystems.xtmc != ''">
      AND a.xtmc LIKE CONCAT('%',#{zjSystems.xtmc},'%')
      </if>
	 </where>
	 ORDER BY a.id DESC
	</select>
      
     <!-- 添加多条数据 -->
	<insert  id="saveAll"  statementType="STATEMENT" >
		INSERT INTO drs_system_zaijian
		<foreach collection="dataList[0]" index="field" item="fieldVal"
			separator="," open="(" close=")">
			${field}
		</foreach>
		values
		<foreach collection="dataList" index="index" item="record"
			separator=",">
			<foreach collection="record" index="key" item="item"
				separator="," open="(" close=")">
				'${item}'
			</foreach>
		</foreach>
	</insert>
</mapper>